(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{444:function(e,s,n){"use strict";n.r(s);var a=n(19),t=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"示例-fuse-nodeselector使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#示例-fuse-nodeselector使用"}},[e._v("#")]),e._v(" 示例 - Fuse NodeSelector使用")]),e._v(" "),s("p",[e._v("在Fluid中，"),s("code",[e._v("Dataset")]),e._v("资源对象中所定义的远程文件是可被调度的，这意味着你能够像管理你的Pod一样管理远程文件缓存在Kubernetes集群上的存放位置。 而执行计算的Pod可以通过Fuse客户端访问数据文件。Fuse客户端可以在Kubernetes集群中全局部署,我们可以通过"),s("code",[e._v("nodeSelector")]),e._v("来限制Fuse客户端的部署范围。")]),e._v(" "),s("p",[e._v("本文档将向你简单地展示上述特性。")]),e._v(" "),s("h2",{attrs:{id:"前提条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[e._v("#")]),e._v(" 前提条件")]),e._v(" "),s("p",[e._v("在运行该示例之前，请参考"),s("RouterLink",{attrs:{to:"/zh/guide/install.html"}},[e._v("安装文档")]),e._v("完成安装，并检查Fluid各组件正常运行：")],1),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl get pod -n fluid-system\nalluxioruntime-controller-f87f54fd6-pqj77   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          14h\ncsi-nodeplugin-fluid-4pfmk                  "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          13h\ncsi-nodeplugin-fluid-qwlm4                  "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          13h\ndataset-controller-bb95bb754-dsxww          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          14h\nfluid-webhook-66b77ccb8f-vvqjb              "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          13h\n")])])]),s("p",[e._v("通常来说，你会看到一个名为"),s("code",[e._v("dataset-controller")]),e._v("的Pod、一个名为"),s("code",[e._v("alluxioruntime-controller")]),e._v("的Pod和多个名为"),s("code",[e._v("csi-nodeplugin")]),e._v("的Pod正在运行。其中，"),s("code",[e._v("csi-nodeplugin")]),e._v("这些Pod的数量取决于你的Kubernetes集群中结点的数量。")]),e._v(" "),s("h2",{attrs:{id:"新建工作环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建工作环境"}},[e._v("#")]),e._v(" 新建工作环境")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ mkdir <any-path>/fuse-nodeselector-use\n$ cd <any-path>/fuse-nodeselector-use\n")])])]),s("h2",{attrs:{id:"运行示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行示例"}},[e._v("#")]),e._v(" 运行示例")]),e._v(" "),s("p",[s("strong",[e._v("查看全部结点")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ kubectl get nodes\nNAME                      STATUS   ROLES    AGE   VERSION\ncn-beijing.172.16.0.101   Ready    <none>   13h   v1.20.11-aliyun.1\ncn-beijing.172.16.0.99    Ready    <none>   23h   v1.20.11-aliyun.1\n")])])]),s("p",[s("strong",[e._v("使用标签标识结点")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ kubectl label nodes cn-beijing.172.16.0.101 select-node=true\nnode/cn-beijing.172.16.0.101 labeled\n")])])]),s("p",[e._v("在接下来的步骤中，我们将使用"),s("code",[e._v("NodeSelector")]),e._v("来管理Fuse客户端的部署范围，所以在这里标记期望的结点")]),e._v(" "),s("p",[s("strong",[e._v("再次查看结点")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ kubectl get node -L select-node\nNAME                      STATUS   ROLES    AGE   VERSION             SELECT-NODE\ncn-beijing.172.16.0.101   Ready    <none>   13h   v1.20.11-aliyun.1   true\ncn-beijing.172.16.0.99    Ready    <none>   23h   v1.20.11-aliyun.1 \n")])])]),s("p",[e._v("目前，在全部2个结点中，仅有一个结点添加了"),s("code",[e._v("select-node=true")]),e._v("的标签，接下来，我们希望Fuse客户端仅会被部署在该结点之上。")]),e._v(" "),s("p",[s("strong",[e._v("检查待创建的Dataset资源对象")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("EOF"),s("span",{pre:!0,attrs:{class:"token bash punctuation"}},[e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("dataset.yaml")]),e._v("\napiVersion: data.fluid.io/v1alpha1\nkind: Dataset\nmetadata:\n  name: hbase\nspec:\n  mounts:\n    - mountPoint: https://mirrors.tuna.tsinghua.edu.cn/apache/hbase/stable/\n      name: hbase\nEOF")]),e._v("\n")])])]),s("p",[s("strong",[e._v("创建Dataset资源对象")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl create -f dataset.yaml\ndataset.data.fluid.io/hbase created\n")])])]),s("p",[s("strong",[e._v("检查待创建的AlluxioRuntime资源对象")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("EOF"),s("span",{pre:!0,attrs:{class:"token bash punctuation"}},[e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("runtime.yaml")]),e._v('\napiVersion: data.fluid.io/v1alpha1\nkind: AlluxioRuntime\nmetadata:\n  name: hbase\nspec:\n  replicas: 1\n  tieredstore:\n    levels:\n      - mediumtype: MEM\n        path: /dev/shm\n        quota: 2Gi\n        high: "0.95"\n        low: "0.7"\n  fuse:\n    nodeSelector:\n      select-node: "true"\nEOF')]),e._v("\n")])])]),s("p",[e._v("该配置文件片段中，通过 "),s("code",[e._v("spec.fuse.nodeSelector")]),e._v(" 将AlluxioRuntime设置到刚刚被标注"),s("code",[e._v("select-node=true")]),e._v("的节点上")]),e._v(" "),s("p",[s("strong",[e._v("创建AlluxioRuntime资源并查看状态")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl create -f runtime.yaml\nalluxioruntime.data.fluid.io/hbase created\n\n$ kubectl get po -owide\nNAME                    READY   STATUS    RESTARTS   AGE   IP             NODE                      NOMINATED NODE   READINESS GATES\nhbase-master-0          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          64m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nhbase-worker-0          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          64m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),s("p",[e._v("在此处可以看到，有一个Alluxio Worker成功启动，并且运行在具有指定标签（即"),s("code",[e._v("select-node=true")]),e._v("）的结点之上。")]),e._v(" "),s("p",[s("strong",[e._v("检查AlluxioRuntime状态")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl get alluxioruntime hbase -o wide\nNAME    READY MASTERS   DESIRED MASTERS   MASTER PHASE   READY WORKERS   DESIRED WORKERS   WORKER PHASE   READY FUSES   DESIRED FUSES   FUSE PHASE   AGE\nhbase   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("               "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("                 Ready          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("               "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("                 Ready          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("             "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("               Ready        12m\n")])])]),s("p",[e._v("这里可以看到Alluxio Worker的数量为1，而Alluxio Fuse的数量为0，因为Alluxio Fuse需要依靠一个作业应用来启动，下边将会展示通过pod启动Fuse。")]),e._v(" "),s("p",[s("strong",[e._v("查看待创建的应用")])]),e._v(" "),s("p",[e._v("下面是一个简单的Deployment 的 YAML 代码段，它有两个个副本和选择器标签 "),s("code",[e._v("app=nginx-test")]),e._v("。 Deployment 配置了 "),s("code",[e._v("PodAntiAffinity")]),e._v("，用来确保调度器不会将所有副本调度到同一节点上。")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<<")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("EOF"),s("span",{pre:!0,attrs:{class:"token bash punctuation"}},[e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("nginx.yaml")]),e._v('\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx\nspec:\n  selector:\n    matchLabels:\n      app: nginx-test\n  replicas: 2\n  template:\n    metadata:\n      labels:\n        app: nginx-test\n    spec:\n      affinity:\n        podAntiAffinity:\n          requiredDuringSchedulingIgnoredDuringExecution:\n          - labelSelector:\n              matchExpressions:\n              - key: app\n                operator: In\n                values:\n                - nginx-test\n            topologyKey: "kubernetes.io/hostname"\n      containers:\n        - name: nginx\n          image: nginx\n          volumeMounts:\n            - mountPath: /data\n              name: hbase-vol\n      volumes:\n        - name: hbase-vol\n          persistentVolumeClaim:\n            claimName: hbase\nEOF')]),e._v("\n")])])]),s("p",[s("strong",[e._v("启动应用")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl create -f nginx.yaml\ndeployment.apps/nginx created\n")])])]),s("p",[s("strong",[e._v("查看pod状态")])]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl get po -owide\nNAME                    READY   STATUS    RESTARTS   AGE   IP             NODE                      NOMINATED NODE   READINESS GATES\nhbase-fuse-4jfgl        "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          41m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nhbase-master-0          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          64m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nhbase-worker-0          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          64m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nnginx-766564fc7-8vz4s   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("/1     Pending   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          41m   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("         "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("                    "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nnginx-766564fc7-rtmwh   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          41m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.73")]),e._v(".0.135    cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),s("p",[e._v("可以看到Fuse客户端只在有"),s("code",[e._v("select-node=true")]),e._v("标签的节点"),s("code",[e._v("cn-beijing.172.16.0.101")]),e._v("上启动了。")]),e._v(" "),s("p",[e._v("两个pod的其中一个（"),s("code",[e._v("nginx-766564fc7-rtmwh")]),e._v("）在节点"),s("code",[e._v("cn-beijing.172.16.0.101")]),e._v("上启动了，因为pod间具有 "),s("code",[e._v("PodAntiAffinity")]),e._v("，另一个pod（"),s("code",[e._v("nginx-766564fc7-8vz4s")]),e._v("）应当在另一个节点"),s("code",[e._v("cn-beijing.172.16.0.99")]),e._v("上启动，但是因为"),s("code",[e._v("spec.fuse.nodeSelector")]),e._v("的限制，他不能被调度而处于pending状态。")]),e._v(" "),s("p",[s("strong",[e._v("启动所有pod")])]),e._v(" "),s("p",[e._v("为了证明pod不被调度是因为"),s("code",[e._v("spec.fuse.nodeSelector")]),e._v("的限制，我们将节点"),s("code",[e._v("cn-beijing.172.16.0.99")]),e._v("也标注"),s("code",[e._v("select-node=true")]),e._v("，可以发现该节点的Fuse Pod和Nginx Pod都启动了。")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl label nodes cn-beijing.172.16.0.99 select-node"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n$ kubectl get po -owide\nNAME                    READY   STATUS    RESTARTS   AGE    IP             NODE                      NOMINATED NODE   READINESS GATES\nhbase-fuse-4jfgl        "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          138m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nhbase-fuse-k95g5        "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          28s    "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.99    cn-beijing.172.16.0.99    "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nhbase-master-0          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          161m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nhbase-worker-0          "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("/2     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          161m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("172.16")]),e._v(".0.101   cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nnginx-766564fc7-8vz4s   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          138m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.73")]),e._v(".0.22     cn-beijing.172.16.0.99    "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\nnginx-766564fc7-rtmwh   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("/1     Running   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v("          138m   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10.73")]),e._v(".0.135    cn-beijing.172.16.0.101   "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("           "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("none"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),s("p",[e._v("可以发现节点"),s("code",[e._v("cn-beijing.172.16.0.99")]),e._v("上的Fuse也启动了，同时Nginx Pod（"),s("code",[e._v("nginx-766564fc7-8vz4s")]),e._v("）也可以在该节点上进行调度。")]),e._v(" "),s("h2",{attrs:{id:"环境清理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境清理"}},[e._v("#")]),e._v(" 环境清理")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("$ kubectl delete -f "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n\n$ kubectl label "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("node")]),e._v(" cn-beijing.172.16.0.101 select-node-\n$ kubectl label "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("node")]),e._v(" cn-beijing.172.16.0.99 select-node-\n")])])])])}),[],!1,null,null,null);s.default=t.exports}}]);